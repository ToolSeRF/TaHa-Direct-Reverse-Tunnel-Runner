## ุฑุงู ุงูุฏุงุฒ ู ูุฏุฑุช ุชุงูู ุทุงูุง
ุงุณฺฉุฑูพุช ุฑุงู ุงูุฏุงุฒ ู ูุฏุฑุช ุชุงูู ุทุงูุง ุจุง ูพุดุชุจุงู ุงุฒ ุฏู ุฑูุด ุชุงูู ูุณุชูู ู ูุนฺฉูุณ(ุฑูุฑุณ) ุจุง ุงูฺฉุงู ุฑุงู ุงูุฏุงุฒ ู ุชุฑฺฉุจ ุฏุฑ 40 ูุงู ูุฎุชูู SOCKS5 - ICMP -TLS - OTLS - RELAY - SSH - FTCP - TCP - WS - WSS - MWS - MWSS ุ ุจู ุงุฏ ุทุงูุง ููุดุงุฑ ฺฉูุฏฺฉ 12 ุณุงูู ุฌุงู ูุฏุง ููู ุ ุงุณู ุงุณฺฉุฑูพุช ุทุงูุง ูุงู ฺฏุฐุงุฑ ุดุฏูุ ุงู ุงุณฺฉุฑูพุช ุจุง ุชุฑฺฉุจ proto ูุง ูุฎุชูู ฺฉู ุจุฑ ุฑู ุณุฑูุฑูุง ุจู ุดุฏุช ูุญุฏูุฏ ุชุณุช ุดุฏู ุงุณุช ุฑุงู ูุฑุงุฑ ุจุฑุง ุนุจูุฑ ุงุฒ ูุญุฏูุฏุช ูุง ู ููุชุฑูฺฏ ุดุฏุฏ ุฌูููุฑ ุงุณูุงู ุจุฑ ุฑู ุณุฑูุฑูุง ุฑุง ูุฑุงูู ูฺฉูุฏ.ุฏุฑ ุตูุฑุช ุงุณุชูุจุงู proto ูุง ุจุดุชุฑ ( ูุฑฺูุฏ ุนููฺฉุฑุฏ ุถุนู ุชุฑ ุฎูุงููุฏ ุฏุงุดุช ุฏุฑ ุงู ุดุฑุงุท) ุงุถุงูู ุฎูุงูุฏ ุดุฏ.

<img width="794" height="531" alt="image" src="https://github.com/user-attachments/assets/f0319ebf-de64-4d37-8ead-e0c21fe4c985" />

## ๐ ูุตุจ ู ุงุฌุฑุง
    wget -O taha.sh "https://raw.githubusercontent.com/ToolSeRF/TaHa-Direct-Reverse-Tunnel-Runner/main/taha.sh?$(date +%s)" && chmod +x taha.sh && bash taha.sh

## ๐งญ ุณุงุฎุชุงุฑุุขููุฒุด ู ูฺฉุงุช
## ุขููุฒุด ุฑุงู ุงูุฏุงุฒ
0.  ุฏุฑ ูุฑ ุฏู ุณุฑูุฑ ุงุจุชุฏุง ุจุง ฺฏุฒูู 1 ูุณุชู ุฑุง ูุตุจ ฺฉูุฏ.
1.  ุจุง ฺฏุฒูู 2 ุง 3 ูุชุฏ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุฏุฑ ุณูุช ุงุฑุงู ู ุฎุงุฑุฌ ูุดุงุจู.
2   ุณูพุณ ูพุฑูุชู ูุฏ ูุธุฑ ุฎูุฏ ุฑุง ุฏุฑ ุฏู ูุฑุญูู ุงูุชุฎุงุจ ฺฉูุฏ.
3.  ุณูพุณ ุจู ุณูุงูุงุช ุจู ุชุฑุชุจ ูพุงุณุฎ ุฏูุฏ.
4.  ุจุฑุง ุงูฺฉู ุจู ูุดฺฉู ูุฎูุฑุฏ ุชุฑุชุจ ุฑุงู ุงูุฏุงุฒ ุฑุง ุฏุฑ ุงุฑุงู ู ุฎุงุฑุฌ ุฑุนุงุช ฺฉูุฏ ุทุจู ูฺฉุงุช ุฒุฑ ุนูู ฺฉูุฏ. 
5.  ุฑู ุณุฑูุฑูุง ุจู ุดุฏุช ูุญุฏูุฏ ุฑูุด ูุง ูุชูุงูุช ุฑุง ุชุณุช ฺฉูุฏ ุฏุฑ ุญุงู ุญุงุถุฑ socks5 - icmp - ssh ุฌุฒ ุฑูุด ูุง ุณุช ฺฉู ุฑู ุณุฑูุฑูุง ุจุง packet loss ุจุงูุง ุง ูุญุฏูุฏุช ุดุฏุฏ ุฌูุงุจ ุฎูุจ ฺฏุฑูุชู ูู ููฺฉู ุงุณุช ุนููฺฉุฑุฏ ุดุจฺฉู  ุดูุง ูุชูุงูุช ุจุงุดุฏ.
## ูฺฉุงุช
1.  ุจุฑุง ูุชุฏ Direct ุงุจุชุฏุง ุชูุธูุงุช ุฑุง ุณูุช ุณุฑูุฑ ุฎุงุฑุฌ ู ุณูพุณ ุณูุช ุณุฑูุฑ ุงุฑุงู ุงูุฌุงู ุฏูุฏ.
2.  ุจุฑุง ูุชุฏ REVERSE ุงุจุชุฏุง ุชูุธูุงุช ุฑุง ุณูุช ุงุฑุงู ู ุณูพุณ ุณูุช ุฎุงุฑุฌ ุงูุฌุงู ุฏูุฏ
3. ุฏุฑ ูุฑ ูุชุฏ ุฏููุง SIDE ฺฉู ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.
4.  ุณุน ฺฉูุฏ Tunnel ID ุฑุง ุฏุฑ ูุฑ ุฏู ุณูุช ูุดุงุจู ูุฑุงุฑ ุฏูุฏุ ุตุฑูุง ุฌูุช ูุชูุงุฒ ฺฉุฑุฏู ุณุฑูุณ ูุง ุงุฒ ููุฏฺฏุฑ ุจุฑุง ุดูุงุณุง ู ุนุฏู ุชุฏุงุฎู ุจุฑุง ุฑุงู ุงูุฏุงุฒ ุจู ฺูุฏ ุณุฑูุฑ ุงุณุช.
5.  ุจุฑุง ุฑุงู ุงูุฏุงุฒ ุฏุฑ ูพุฑูุชฺฉู SSH ุงุจุชุฏุง ุจุง ฺฏุฒูู 8 ฺฉ keygen ุจุณุงุฒุฏ ุ ุจุฑุง ุฑูุฑุณ ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ุฎุงุฑุฌ ู ุจุฑุง ูุณุชูู ุฏุฑ ุงุฑุงู ุงูุฌุงู ุฏูุฏ. SSH ID ููุท ุฌูุช ุชูุงุฒ ุจู keygen ูุงุณุช.
6.  ุจุฑุง ุชูุธู ฺฉุฑูู ุฌุงุจ ู ุชูุงูุฏ ุงุฒ ฺฏุฑูู  5 ุงุณุชูุงุฏู ฺฉูุฏ.ุณุฑูุณ ูุง ุทุจู ุชูุธู ุดูุง ุฑุณุช ู ุดููุฏ.
7.  ุจุฑุง ูุฏุฑุช ุณุฑูุณ ูุง ุงุฒ ฺฏุฒูู  4 ุงุณุชูุงุฏู ฺฉูุฏ


# ุฑุงูููุง CLI


| ูพุงุฑุงูุชุฑ | ุชูุถุญ | ูพุงุฑุงูุชุฑ | ุชูุถุญ | ูพุงุฑุงูุชุฑ | ุชูุถุญ |
| :--- | :---: | :--- | :---: | :--- | :---: |
| `ููุงุด ููู ุงุณฺฉุฑูพุช` | `.\taha .\taha -m` |  `ููุงุด ุฑุงูููุง` | `.\taha -h` |  `ุฑุงูููุง ูพุฑูุชฺฉู ูุง` | `.\taha -p` | 

---

## ุณุงุฎุชุงุฑ ุฏุณุชูุฑ CLI ุจุฑุง ุงุฌุฑุง ูุณุชูู ุชุงูู

```bash
./taha <side> <method> <PROTO1+PROTO2> <TID> <PEER_IP> <TUN_PORT> [FORWARD_PORTS] [SSH_ID]
```

---

## ุชูุถุญ ูพุงุฑุงูุชุฑูุง

| ูพุงุฑุงูุชุฑ | ุงุฌุจุงุฑ | ุชูุถุญ |
| :--- | :---: | :--- |
| `side` | โ | ุณูุช ุงุฌุฑุง: `ir` / `iran` ุง `kh` / `kharej` |
| `method` | โ | ูุชุฏ ุงุฌุฑุง: `1` / `d` / `direct` ุง `2` / `r` / `reverse` |
| `PROTO1+PROTO2` | โ | ุชุฑฺฉุจ ูพุฑูุชฺฉูโูุง (ุนุฏุฏ+ุนุฏุฏุ ุงุณู+ุงุณูุ ุชุฑฺฉุจ) |
| `TID` | โ | ุดูุงุณู ุชููู (`1` ุชุง `99`) |
| `PEER_IP` | โ | ุขโูพ ุณูุช ููุงุจู |
| `TUN_PORT` | โ | ูพูุฑุช ุชููู |
| `FORWARD_PORTS` | โ/โ | ุฏุฑ ูุชุฏ ุฑูุฑุณ ุณูุช kharej / ุฏุฑ ูุณุชูู ุณูุช iran ููููู `80` `80,2053` `2050-2060`  |
| `SSH_ID` | โ/โ | ููุท ุงฺฏุฑ ูพุฑูุชฺฉู ุดุงูู `ssh` ุจุงุดุฏ |


---

## ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ

```bash

# Direct - ุณูุช ุฎุงุฑุฌ
./taha kh 1 tls+ws 9 10.20.30.41 443

# Direct - ุณูุช ุงุฑุงู (forwarder)
./taha ir d tls+ws 9 10.20.30.40 443 2052,2053


# Reverse - - ุณูุช ุงุฑุงู 
./taha iran r relay+ws 9 10.20.30.41 443

# Reverse - ุณูุช ุฎุงุฑุฌ (forwarder)
./taha kharej reverse relay+ws 9 10.20.30.41 443 2052,2053

# ูุซุงู SSH (ูุงุฒููุฏ SSH_ID)
./taha 1 direct ssh+raw 9 10.20.30.40 443 2052,2053 5
```

---

# ุฌุฏูู Mapping ูพุฑูุชฺฉูโูุง

## Direct โ `method = 1 | d | direct`

| ุนุฏุฏ | ุญุฑูู | ุนุฏุฏ | ุญุฑูู | ุนุฏุฏ | ุญุฑูู |
| ---: | :--- | :--- | :--- | :--- | :--- |
| `1+1` | `socks5+raw` | `1+2` | `socks5+tcp` | `1+3` | `socks5+icmp` |
| `1+4` | `socks5+ssh` | `2+1` | `icmp+raw` | `2+2` | `icmp+ws` |
| `2+3` | `icmp+tcp` | `2+4` | `icmp+otls` | `2+5` | `icmp+ftcp` |
| `2+6` | `icmp+relay` | `2+7` | `icmp+ssh` | `3+1` | `tls+raw` |
| `3+2` | `tls+ws` | `3+3` | `tls+tcp` | `3+4` | `tls+icmp` |
| `3+5` | `tls+socks5` | `3+6` | `tls+relay` | `3+7` | `tls+ssh` |
| `4+1` | `otls+raw` | `4+2` | `otls+ws` | `4+3` | `otls+tcp` |
| `4+4` | `otls+icmp` | `4+5` | `otls+socks5` | `4+6` | `otls+relay` |
| `4+7` | `otls+ssh` | `5+1` | `relay+raw` | `5+2` | `relay+ws` |
| `5+3` | `relay+wss` | `5+4` | `relay+mws` | `5+5` | `relay+mwss` |
| `5+6` | `relay+tcp` | `5+7` | `relay+icmp` | `5+8` | `relay+socks5` |
| `5+9` | `relay+relay` | `5+10` | `relay+ssh` | `6+1` | `ssh+raw` |
| `7+1` | `ftcp+raw` |  |  |  |  |

---

## Reverse โ `method = 2 | r | reverse`

| ุนุฏุฏ | ุญุฑูู | ุนุฏุฏ | ุญุฑูู | ุนุฏุฏ | ุญุฑูู |
| ---: | :--- | :--- | :--- | :--- | :--- |
| `1+1` | `relay+raw` | `1+2` | `relay+ws` | `1+3` | `relay+tcp` |
| `1+4` | `relay+otls` | `1+5` | `relay+icmp` | `2+1` | `socks5+raw` |
| `2+2` | `socks5+tcp` | `2+3` | `socks5+otls` | `2+4` | `socks5+icmp` |
| `2+5` | `socks5+relay` |  |  |  |  |




### ุนููฺฉุฑุฏ
1.  ุจุฑุง ูพุฑูุฑููุณ ุจูุชุฑ ุงุฒ ุงูพุชูุงุฒ ฺฉู ุฏุฑ ฺฏุฒูู 7 ูุฑุงุฑ ุฏุงุฏู ุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ.
2.  ุฏุฑ ูุฑ ุณุฑูุฑ ููฺฉู ุงุณุช proto ูุง ูุฎุชูู ุนููฺฉุฑุฏ ูุชูุงูุช ุฏุงุดุชู ุจุงุดูุฏุ

### ุณุฑูุณ ูุง ู ูพูุฑุช ูุง
ู ุชูุงูุฏ ูพูุฑุช ูุง ุฑุง ุจู ุตูุฑุช 2020,2030 ุง 2050-2060 ุจู ุฏู ุตูุฑุช ุชฺฉ ุง ุฑูุฌ ูุงุฑุฏ ฺฉูุฏ

ุงฺฏุฑ ูุดฺฉู ุฏุงุฑุฏ ุงู ุฏู ููุฑุฏ ุฑุง ุญุชูุง ฺฺฉ ฺฉูุฏุ ูุถุนุช ุณุฑูุณ ูุง ุฏุฑ ุณุฑูุฑูุงุ ูุถุนุช ูพูุฑุช ูุงุ ุจุฎุตูุต ุฏุฑ ุญุงูุช ุฑูุฑุณ ุญุชูุง ฺฺฉ ฺฉูุฏ ูพูุฑุช ุฑู ุงุฑุงู ุจุงุฒ ุดุฏู ุจุงุดุฏ.

```systemctl list-units | grep gost``` ุง ```ss -ltnp | grep ':8080'```
   
ุงฺฏุฑ ูพูุฑุช ูุง ุฑุง ููุจูุฏ (ุฏุฑ ุญุงูุช ุฑูุฑุณ ุฑู ุงุฑุงู) ู ุณุฑูุณ ุดูุง ุจุฏูู ุฎุทุง ุฑุงู ุดุฏู ูุงุฒ ุจู ุฑุณุช ุณุฑูุณ ูุงุณุช ุชุง ูพูุฑุช ุจุงุฒ ุดูุฏ.

### ูุณุชู
ุงุฒ ูุณุชู GOST V3.2.27 ุจุณุงุฑ ุณุจฺฉ ู ูุฏุฑุชููุฏ ุงุณุชูุงุฏู ุดุฏู ุงุณุช.

## ุญูุงุช
ุฌูุช ุญูุงุช ููุท ุจุฑุง ุฑูุญ ูพุงฺฉ ฺฉูุฏฺฉ 12 ุณุงูู  ุฌุงู ูุฏุง ููู ูุงู |ุทุงูุง ููุดุงุฑ| ู ุชูุงู ุนุฒุฒุงู ุฌุงู ูุฏุง ุงูููุงุจ ุฏ 1404 ุงุฑุงู ุนุฒุฒูุงู ุฏุนุง ุขุฑุงูุด ฺฉูุฏ


